Source: Timo Gurr <tgurr@exherbo.org>
Upstream: Reported, https://bugs.kde.org/show_bug.cgi?id=414795
Reason: Fix build with poppler 0.83.0

Fixed for void by svenper@tuta.io

--- filters/karbon/pdf/PdfImport.cpp
+++ filters/karbon/pdf/PdfImport.cpp
@@ -60,19 +60,17 @@
     }
 
     // read config file
-    globalParams = new GlobalParams();
+    globalParams.reset(new GlobalParams());
     if (! globalParams)
         return KoFilter::NotImplemented;
 
     GooString * fname = new GooString(QFile::encodeName(m_chain->inputFile()).data());
     PDFDoc * pdfDoc = new PDFDoc(fname, 0, 0, 0);
     if (! pdfDoc) {
-        delete globalParams;
         return KoFilter::StupidError;
     }
 
     if (! pdfDoc->isOk()) {
-        delete globalParams;
         delete pdfDoc;
         return KoFilter::StupidError;
     }
@@ -99,7 +97,6 @@
 
     delete dev;
     delete pdfDoc;
-    delete globalParams;
     globalParams = 0;
 
     return KoFilter::OK;
--- filters/karbon/pdf/SvgOutputDev.cpp
+++ filters/karbon/pdf/SvgOutputDev.cpp
@@ -172,7 +172,7 @@
     *d->body << "/>" << endl;
 }
 
-QString SvgOutputDev::convertPath(GfxPath *path)
+QString SvgOutputDev::convertPath(const GfxPath *path)
 {
     if (! path)
         return QString();
@@ -180,7 +180,7 @@
     QString output;
 
     for (int i = 0; i < path->getNumSubpaths(); ++i) {
-        GfxSubpath * subpath = path->getSubpath(i);
+        const GfxSubpath * subpath = path->getSubpath(i);
         if (subpath->getNumPoints() > 0) {
             output += QString("M%1 %2").arg(subpath->getX(0)).arg(subpath->getY(0));
             int j = 1;
--- filters/karbon/pdf/SvgOutputDev.h
+++ filters/karbon/pdf/SvgOutputDev.h
@@ -83,7 +83,7 @@
     /// Dumps content to svg file
     void dumpContent();
 private:
-    QString convertPath(GfxPath *path);
+    QString convertPath(const GfxPath *path);
     QString convertMatrix(const QMatrix &matrix);
     QString convertMatrix(const double * matrix);
     QString printFill();
